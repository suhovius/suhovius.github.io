{"version":3,"sources":["webpack:///webpack/bootstrap 9a15be21ea75113ea04b","webpack:///./app/js/main.jsx","webpack:///./app/js/game-framework.jsx","webpack:///./app/js/collision-detection.jsx","webpack:///./app/js/math-utils.jsx","webpack:///./app/js/sounds.jsx","webpack:///./app/js/classes/audio-player.jsx","webpack:///./app/js/global-audio-context.jsx","webpack:///./app/js/game-settings.jsx","webpack:///./app/js/debug-utils.jsx","webpack:///./app/js/canvas-data.jsx","webpack:///./app/js/classes/graphic-ball.jsx","webpack:///./app/js/classes/graphical.jsx","webpack:///./app/js/classes/competitor-ball.jsx","webpack:///./app/js/classes/automatic-ball.jsx","webpack:///./app/js/classes/ball.jsx","webpack:///./app/js/constants.jsx","webpack:///./app/js/framework-functions.jsx","webpack:///./app/js/classes/player-ball.jsx","webpack:///./app/js/classes/friendly-ball.jsx","webpack:///./app/js/classes/neutral-ball.jsx","webpack:///./app/js/classes/brick.jsx","webpack:///./app/js/classes/square-brick.jsx","webpack:///./app/js/classes/gate.jsx","webpack:///./app/js/classes/black-hole.jsx","webpack:///./app/js/classes/score-point.jsx","webpack:///./app/js/classes/menu-button.jsx","webpack:///./app/js/classes/menu.jsx","webpack:///./app/js/classes/level.jsx","webpack:///./app/js/levels-data.jsx","webpack:///./app/js/classes/breakable-brick.jsx"],"names":[],"mappings":"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","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/javascripts/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9a15be21ea75113ea04b\n **/","import GameFramework from './game-framework';\n// Inits\nwindow.onload = function init() {\n  var game = new GameFramework();\n  game.start();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/main.jsx\n **/","import { testCollisionWithWalls, testCollisionWithBricks, testCollisionWithScorePoints, circleCollide } from './collision-detection';\nimport { drawAxis, updateTelemetry, drawCollisionAngles } from './debug-utils';\nimport { distanceBettweenToPoints, findNewPointBy, angleBetween2Lines } from './math-utils';\nimport canvasData from './canvas-data';\nimport GraphicBall from './classes/graphic-ball';\nimport CompetitorBall from './classes/competitor-ball';\nimport FriendlyBall from './classes/friendly-ball';\nimport NeutralBall from './classes/neutral-ball';\nimport PlayerBall from './classes/player-ball';\nimport Brick from './classes/brick';\nimport SquareBrick from './classes/square-brick';\nimport Gate from './classes/gate';\nimport BlackHole from './classes/black-hole';\nimport ScorePoint from './classes/score-point';\nimport MenuButton from './classes/menu-button';\nimport Menu from './classes/menu';\nimport Level from './classes/level';\nimport { GAME_AREA_BORDER, MAX_POWER_INIT, POWER_BOOST } from './constants';\nimport { clearCanvas, updatePlayerCursor, updateGates, drawGameAreaBorder, checkBallControllable, updateBlackHoles, calculateSoundGainForBallCollision } from './framework-functions';\nimport { getAudioContext } from './global-audio-context';\nimport AudioPlayer from './classes/audio-player';\nimport sounds from './sounds';\nimport settings from './game-settings';\n\nexport default function() {\n\n  // Move this to separete file as sounds but for music\n  // Especially if there will be some more music\n  var musicPlayer = new AudioPlayer(\"audio/music/ball_game_ost.mp3\", { loop: true , gainCoefficient: 0.5});\n  musicPlayer.play();\n\n  // Vars relative to the canvas\n  var canvas, ctx, w, h;\n\n  // vars for counting frames/s, used by the measureFPS function\n  var frameCount = 0;\n  var lastTime;\n  var fpsContainer;\n  var telemetryContainer;\n  var fps;\n  // for time based animation\n  var delta, oldTime = 0;\n\n  var powerBoost = POWER_BOOST;\n\n  var maxBallSpeed = powerBoost * MAX_POWER_INIT;\n\n  // vars for handling inputs\n  var inputStates = {};\n\n  var ballArray = [];\n  var bricksArray = [];\n  var gatesArray = [];\n  var scorePointsArray = [];\n  var blackHolesArray = [];\n\n  var statsBall = new GraphicBall(20, 120, 20, \"#FF6633\");\n  var statsScorePointGold = new ScorePoint(15, 520, \"gold\");\n  var statsScorePointSilver = new ScorePoint(15, 550, \"silver\");\n  var statsScorePointSteel = new ScorePoint(15, 580, \"steel\");\n\n  const PLAYER_STATS_INIT = {\n    \"balls\" : 3,\n    \"levels\" : {},\n    \"totalScore\" : 0,\n    \"goldCount\" : 0,\n    \"silverCount\" : 0,\n    \"steelCount\" : 0,\n    \"levels\" : {}\n  };\n\n  var playerStats = Object.assign({}, PLAYER_STATS_INIT);\n\n  playerStats.calculateTotalScore = function() {\n    this.totalScore = 0;\n    this.goldCount = 0;\n    this.silverCount = 0;\n    this.steelCount = 0;\n    for (var number in playerStats[\"levels\"]) {\n      this.totalScore += playerStats[\"levels\"][number][\"score_points\"].reduce(function(sum, score) { return sum + score.weight;}, 0);\n\n      for (let scorePoint of playerStats[\"levels\"][number][\"score_points\"]) {\n        switch(scorePoint.type) {\n        case \"gold\":\n          this.goldCount++;\n          break;\n        case \"silver\":\n          this.silverCount++;\n          break;\n        case \"steel\":\n          this.steelCount++;\n          break;\n        }\n      }\n    }\n    playerStats[\"levels\"][currentLevel.number][\"totalScore\"] = playerStats[\"levels\"][currentLevel.number][\"score_points\"].reduce(function(sum, score) { return sum + score.weight;}, 0);\n    return this.totalScore;\n  };\n\n  var player = {\n    x:0,\n    y:0,\n    boundingCircleRadius: 5\n  };\n\n  // game states\n  var gameStates = {\n      mainMenu: 0,\n      gameRunning: 1,\n      levelComplete: 2,\n      gameOver: 3,\n      frozenDebug: 4\n  };\n  // var currentGameState = gameStates.gameRunning;\n  // var currentGameState = gameStates.mainMenu;\n  var currentLevel = new Level(1);\n\n  var gameAreaBorder = GAME_AREA_BORDER;\n\n  var mainMenuButton = new MenuButton(300, 20, 80, 40, \"Menu\");\n  mainMenuButton.releaseHandler = function() {\n    currentGameState = gameStates.mainMenu;\n  }\n\n  var mainMenu = new Menu(\"Main Menu\");\n\n  var resumeGameButton = mainMenu.addButton(\"Resume Game\", function() {\n    currentGameState = gameStates.gameRunning;\n  }, false);\n\n  var startNextLevelButton = mainMenu.addButton(\"Start Next Level\", function() {\n    if (currentLevel.hasNextLevel()) {\n      currentLevel = currentLevel.getNextLevel();\n      startGame();\n    }\n  }, false);\n\n  var replayCurrentLevelButton = mainMenu.addButton(\"Replay Current Level\", function() {\n    playerStats[\"levels\"][currentLevel.number][\"score_points\"] = [];\n    playerStats.calculateTotalScore();\n    startGame();\n  }, false);\n\n  mainMenu.addButton(\"Start New Game\", function() {\n    if (currentLevel.hasNextLevel()) {\n      currentLevel = new Level(1);\n      playerStats = Object.assign(playerStats, PLAYER_STATS_INIT);\n      startGame();\n    }\n  });\n\n  function musicButtonText(musicPlayer) {\n    return \"Music: \" + (musicPlayer.status == \"playing\" ? \"On\" : \"Off\");\n  }\n\n  mainMenu.addButton(musicButtonText(musicPlayer), function() {\n    if (musicPlayer.status == \"playing\") {\n      musicPlayer.stop();\n    } else {\n      musicPlayer.play();\n    }\n    this.text = musicButtonText(musicPlayer);\n  });\n\n  function soundsButtonText(settings) {\n    return \"Sounds: \" + (settings.read().areSoundsOn ? \"On\" : \"Off\");\n  }\n\n  mainMenu.addButton(soundsButtonText(settings), function() {\n    settings.toggleBoolean(\"areSoundsOn\");\n    this.text = soundsButtonText(settings);\n  });\n\n  var currentGameState = gameStates.mainMenu;\n\n  var measureFPS = function(newTime){\n\n    // test for the very first invocation\n    if(lastTime === undefined) {\n      lastTime = newTime;\n      return;\n    }\n\n    //calculate the difference between last & current frame\n    var diffTime = newTime - lastTime;\n\n    if (diffTime >= 1000) {\n      fps = frameCount;\n      frameCount = 0;\n      lastTime = newTime;\n    }\n\n    //and display it in an element we appended to the\n    // document in the start() function\n    fpsContainer.innerHTML = 'FPS: ' + fps;\n    frameCount++;\n  };\n\n  function updateBalls() {\n    testCollisionBetweenBalls(ballArray);\n    let result = {};\n    // Move and draw each ball, test collisions,\n    for (var i = 0; i < ballArray.length; i++) {\n      var ball = ballArray[i];\n\n      // 1) move the ball\n      ball.move(delta);\n\n      // 2) test if the ball collides with a wall\n      testCollisionWithWalls(w, h, gameAreaBorder, ball);\n\n      bricksArray = testCollisionWithBricks(bricksArray, ball);\n\n      if (ball instanceof PlayerBall) {\n        checkBallControllable(ball, player, inputStates, powerBoost, ctx);\n\n        result = testCollisionWithScorePoints(scorePointsArray, ball);\n        scorePointsArray = result[\"available\"];\n\n        if (result[\"collected\"].length > 0) {\n          playerStats[\"levels\"][currentLevel.number][\"score_points\"] = playerStats[\"levels\"][currentLevel.number][\"score_points\"].concat(result[\"collected\"]);\n          playerStats.calculateTotalScore();\n        }\n      }\n\n      if (ball instanceof CompetitorBall) {\n        ball.actionLogic(ballArray, delta);\n      }\n\n      if (ball instanceof FriendlyBall) {\n        ball.actionLogic(ballArray, delta);\n      }\n\n      testGateHits(ball);\n\n      testBlackHoleHits(ball);\n\n      // 3) draw the ball\n      ball.draw(ctx);\n    }\n  }\n\n  function createPlayerBall(x, y) {\n    var ball = new PlayerBall(x, y, 20, \"#FF6633\", 0, 0, 'LightGreen');\n\n    ballArray.push(ball);\n  }\n\n  function testCollisionBetweenBalls(ballArray) {\n    let collisionAngle, newCoordinates;\n\n    for (var i = 0; i < ballArray.length; i++) {\n      for (var j = i + 1; j < ballArray.length; j++) {\n        if (circleCollide(ballArray[i].x, ballArray[i].y, ballArray[i].radius, ballArray[j].x, ballArray[j].y, ballArray[j].radius)) {\n          // Reset ball position to avoid mixing it with another ball's position. Avoid overlapping.\n          collisionAngle = angleBetween2Lines(ballArray[i].x, ballArray[i].y, ballArray[j].x, ballArray[j].y, ballArray[i].x, ballArray[i].y, ballArray[i].x+25, ballArray[i].y);\n          newCoordinates = findNewPointBy(ballArray[i].x, ballArray[i].y, collisionAngle, ballArray[i].radius + ballArray[j].radius);\n          ballArray[j].x = newCoordinates.x;\n          ballArray[j].y = newCoordinates.y;\n\n          [ballArray[i].v, ballArray[j].v] = [ballArray[j].v, ballArray[i].v];\n\n          [ballArray[i].angle, ballArray[j].angle] = [ballArray[j].angle, ballArray[i].angle];\n\n          sounds.play(\"ballToBallCollisionHit\", { \"gain\" : calculateSoundGainForBallCollision(Math.max(ballArray[i].v, ballArray[j].v)) });\n        }\n      }\n    }\n  }\n\n  function updateBricks() {\n    for (var i = 0; i < bricksArray.length; i++) {\n      bricksArray[i].draw();\n    }\n  }\n\n  function updateScorePoints() {\n    for (var i = 0; i < scorePointsArray.length; i++) {\n      scorePointsArray[i].draw();\n    }\n  }\n\n  function updateStats() {\n    ctx.save();\n    ctx.fillStyle = \"#33CC33\";\n    ctx.fillText(\"Level Score: \" + playerStats[\"levels\"][currentLevel.number][\"totalScore\"], 10, 30);\n    ctx.fillText(\"Total Score: \" + playerStats.totalScore, 10, 55);\n    ctx.fillText(\"x \" + playerStats.balls, 38, 127);\n    ctx.fillText(\"x \" + playerStats.goldCount, 28, 526);\n    ctx.fillText(\"x \" + playerStats.silverCount, 28, 556);\n    ctx.fillText(\"x \" + playerStats.steelCount, 28, 586);\n    ctx.restore();\n    statsBall.draw();\n    statsScorePointGold.draw();\n    statsScorePointSilver.draw();\n    statsScorePointSteel.draw();\n  }\n\n  function testGateHits(ball) {\n    for (var i = 0; i < gatesArray.length; i++) {\n      if (distanceBettweenToPoints(gatesArray[i].x, gatesArray[i].y, ball.x, ball.y) < 5) {\n        // Gate hit detected\n        if ((gatesArray[i].type === \"finish\") && (ball instanceof PlayerBall) ) {\n          sounds.play(\"levelComplete\");\n          currentGameState = gameStates.levelComplete;\n        }\n      }\n    }\n  }\n\n  function removeBallFromArray(ballArray, ball) {\n    return ballArray.filter(function(array_ball) { return array_ball.uuid != ball.uuid; });\n  }\n\n  function testBlackHoleHits(ball) {\n    for (var i = 0; i < blackHolesArray.length; i++) {\n      if (distanceBettweenToPoints(blackHolesArray[i].x, blackHolesArray[i].y, ball.x, ball.y) < blackHolesArray[i].radius) {\n        // Black Hole hit detected\n        ball.isAlive = false;\n        ballArray = removeBallFromArray(ballArray, ball);\n        blackHolesArray[i].setBallInside(ball);\n        sounds.play(\"lostInBlackHole\");\n        if (ball instanceof PlayerBall) {\n          playerStats.balls--;\n          if (playerStats.balls > 0) {\n            var startGate = getStartGate(gatesArray);\n            createPlayerBall(startGate.x, startGate.y);\n          } else {\n            currentGameState = gameStates.gameOver;\n            sounds.play(\"gameOver\");\n          }\n        }\n      }\n    }\n  }\n\n  function updateMainMenuButton(mainMenuButton) {\n    mainMenuButton.draw();\n    mainMenuButton.processCursor(player, inputStates);\n  }\n\n  function timer(currentTime) {\n    var delta = currentTime - oldTime;\n    oldTime = currentTime;\n    return delta;\n  }\n\n  var mainLoop = function(time){\n\n      //main function, called each frame\n      measureFPS(time);\n\n      // number of ms since last frame draw\n      delta = timer(time);\n\n      // Clear the canvas\n      clearCanvas(ctx, canvas)\n\n      drawGameAreaBorder(ctx, canvas);\n\n      updatePlayerCursor(player, inputStates);\n\n      switch (currentGameState) {\n        case gameStates.gameRunning:\n\n          updateGates(gatesArray);\n\n          blackHolesArray = updateBlackHoles(blackHolesArray, delta);\n\n          updateBricks();\n\n          updateScorePoints();\n          // Update balls positions\n          updateBalls();\n\n          updateStats();\n\n          updateMainMenuButton(mainMenuButton);\n\n          // drawAxis(ctx, w, h, w/2, h/2, ballArray[0].hitAngle, 200);\n          // drawAxis(ctx, w, h, w/2, h/2, 235 * (Math.PI / 180), 200);\n\n          // updateTelemetry(telemetryContainer, ballArray[0]);\n          // drawCollisionAngles(ctx, w, h, ballArray[0]);\n          break;\n        case gameStates.mainMenu:\n          // TODO Add UI menu\n          mainMenu.title = \"Main Menu\";\n          startNextLevelButton.isVisible = false;\n          replayCurrentLevelButton.isVisible = false;\n          mainMenu.draw(player, inputStates);\n          break;\n        case gameStates.levelComplete:\n          mainMenu.title = \"Level \" + (currentLevel.number) + \" Complete!\";\n          startNextLevelButton.isVisible = true;\n          replayCurrentLevelButton.isVisible = true;\n          resumeGameButton.isVisible = false;\n          mainMenu.draw(player, inputStates);\n          break;\n        case gameStates.gameOver:\n          mainMenu.title = \"GAME OVER!\";\n          startNextLevelButton.isVisible = false;\n          replayCurrentLevelButton.isVisible = false;\n          resumeGameButton.isVisible = false;\n          mainMenu.draw(player, inputStates);\n          break;\n      }\n\n      if (currentGameState != gameStates.frozenDebug) {\n        // call the animation loop every 1/60th of second\n        requestAnimationFrame(mainLoop);\n      } else {\n        ctx.save();\n        ctx.beginPath();\n        ctx.fillStyle=\"Red\";\n        ctx.font = \"70px Arial\";\n        ctx.fillText(\"Frozen Debug Mode\", 35, 70);\n        ctx.restore();\n        console.log(\"Frozen Debug Mode\");\n      }\n\n  };\n\n\n  function getMousePos(evt) {\n    // necessary to take into account CSS boudaries\n    var rect = canvas.getBoundingClientRect();\n    return {\n        x: evt.clientX - rect.left,\n        y: evt.clientY - rect.top\n    };\n  }\n\n  function getStartGate(gatesArray) {\n    return gatesArray.find(function(gate) { return gate.type === \"start\"; });\n  }\n\n  // TODO This should load current level and start game.\n  function startGame() {\n    ballArray = currentLevel.loadBalls();\n    bricksArray = currentLevel.loadBricks();\n    gatesArray = currentLevel.loadGates();\n    blackHolesArray = currentLevel.loadBlackHoles();\n    scorePointsArray = currentLevel.loadScorePoints();\n    var startGate = getStartGate(gatesArray);\n    createPlayerBall(startGate.x, startGate.y);\n    playerStats[\"levels\"][currentLevel.number] = {\n      \"score_points\" : [],\n      \"totalScore\" : 0\n    }\n    currentGameState = gameStates.gameRunning;\n    resumeGameButton.isVisible = true;\n  }\n\n  var start = function(){\n\n    // adds a div for displaying the fps value\n    fpsContainer = document.createElement('div');\n    document.body.appendChild(fpsContainer);\n\n    telemetryContainer = document.createElement('div');\n    document.body.appendChild(telemetryContainer);\n\n    // Canvas, context etc.\n    canvas = canvasData.getCanvas();\n\n    // often useful\n    w = canvas.width;\n    h = canvas.height;\n\n    // important, we will draw with this object\n    ctx = canvasData.getContext2D();\n    //ctx = canvas.getContext('2d');\n    // default police for text\n    ctx.font=\"20px Arial\";\n\n    // add the listener to the main, window object, and update the states\n    window.addEventListener('keydown', function(event){\n      if (event.keyCode === 37) {\n         inputStates.left = true;\n      } else if (event.keyCode === 38) {\n         inputStates.up = true;\n      } else if (event.keyCode === 39) {\n         inputStates.right = true;\n      } else if (event.keyCode === 40) {\n         inputStates.down = true;\n      }  else if (event.keyCode === 32) {\n         inputStates.space = true;\n      }\n    }, false);\n\n    //if the key will be released, change the states object\n    window.addEventListener('keyup', function(event){\n      if (event.keyCode === 37) {\n         inputStates.left = false;\n      } else if (event.keyCode === 38) {\n         inputStates.up = false;\n      } else if (event.keyCode === 39) {\n         inputStates.right = false;\n      } else if (event.keyCode === 40) {\n         inputStates.down = false;\n      } else if (event.keyCode === 32) {\n         inputStates.space = false;\n      }\n    }, false);\n\n    // Mouse event listeners\n    canvas.addEventListener('mousemove', function (evt) {\n      inputStates.mousePos = getMousePos(evt);\n    }, false);\n\n    canvas.addEventListener('mousedown', function (evt) {\n      inputStates.mousedown = true;\n      inputStates.mouseButton = evt.button;\n      inputStates.mouseDownPos = getMousePos(evt);\n      inputStates.mouseUpPos = null;\n    }, false);\n\n    canvas.addEventListener('mouseup', function (evt) {\n      inputStates.mousedown = false;\n      inputStates.mouseDownPos = null; // clean mouse down position\n      inputStates.mouseUpPos = getMousePos(evt);\n    }, false);\n\n    requestAnimationFrame(mainLoop);\n\n  };\n\n  //our GameFramework returns a public API visible from outside its scope\n  return {\n    start: start\n  };\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/game-framework.jsx\n **/","import { dotLineLength } from './math-utils';\nimport sounds from './sounds';\n\nfunction circleCollide(x1, y1, r1, x2, y2, r2) {\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  return ((dx * dx + dy * dy) < (r1 + r2)*(r1+r2));\n}\n\nfunction circRectsOverlap(x0, y0, w0, h0, cx, cy, r) {\n  var testX = cx;\n  var testY = cy;\n\n  if (testX < x0)\n      testX = x0;\n  if (testX > (x0 + w0))\n      testX = (x0 + w0);\n  if (testY < y0)\n      testY = y0;\n  if (testY > (y0 + h0))\n      testY = (y0 + h0);\n\n  return (((cx - testX) * (cx - testX) + (cy - testY) * (cy - testY)) < r * r);\n}\n\nfunction testCollisionWithWalls(w, h, gameAreaBorder, ball) {\n  // left\n  if (ball.x < (ball.radius + gameAreaBorder)) {\n      ball.x = (ball.radius + gameAreaBorder);\n      ball.collisionReset(Math.PI/2); // set current values like speed, angle, and reset run time to zero\n      ball.angle = -ball.angle + Math.PI;\n  }\n  // right\n  if (ball.x > (w - gameAreaBorder) - (ball.radius)) {\n      ball.x = (w - gameAreaBorder) - (ball.radius);\n      ball.collisionReset(Math.PI/2);\n      ball.angle = -ball.angle + Math.PI;\n  }\n  // up\n  if (ball.y < (ball.radius + gameAreaBorder)) {\n      ball.y = (ball.radius + gameAreaBorder);\n      ball.collisionReset(Math.PI);\n      ball.angle = -ball.angle;\n  }\n  // down\n  if (ball.y > (h - gameAreaBorder) - (ball.radius)) {\n      ball.y = (h - gameAreaBorder) - (ball.radius);\n      ball.collisionReset(Math.PI);\n      ball.angle = -ball.angle;\n  }\n}\n\nfunction ballBrickCollisionSides(ball, brick) {\n  // TODO this logic should be changed. Use should use lengths from ball center to walls\n  // and find closest pair of dots this will be collision side.\n  // if there are among rest dots pair of non closest dots than there is side dot hit.\n  var sides = [];\n\n  var distances = {};\n  var sideKeys = Object.keys(brick.coordinatesHash);\n  for (var i in sideKeys) {\n    distances[sideKeys[i]] = dotLineLength(ball.x, ball.y, brick.coordinatesHash[sideKeys[i]].x1, brick.coordinatesHash[sideKeys[i]].y1, brick.coordinatesHash[sideKeys[i]].x2, brick.coordinatesHash[sideKeys[i]].y2, true);\n  }\n\n  // console.log(distances);\n\n  var distanceSideKeys = Object.keys(distances);\n  var sortedDistanceSidesInAscendingOrder = distanceSideKeys.sort(function(a, b){return distances[a]-distances[b]});\n\n  sides.push(sortedDistanceSidesInAscendingOrder[0]);\n  // TODO: Find better coefficient for this\n  if (Math.abs(distances[sortedDistanceSidesInAscendingOrder[0]] - distances[sortedDistanceSidesInAscendingOrder[1]]) < 0.5) {\n    sides.push(sortedDistanceSidesInAscendingOrder[1]);\n  }\n\n  return sides;\n}\n\nfunction resetBallAfterBrickCollision(ball, brick) {\n  // still this code needs fixes.\n  // collision detection is not accurate enough\n  var sides =  ballBrickCollisionSides(ball, brick);\n\n  // console.log(sides);\n  if (ball.v > 0) {\n    brick.drawCollision(sides);\n  }\n\n  // 45 degree collision with brick's facet\n  // if (sides.length == 2) {\n  //   // var offset = ball.radius / Math.sqrt(2); // Pythagorean theorem https://en.wikipedia.org/wiki/Pythagorean_theorem\n  //   // if (ball.v == 0) {\n  //   //   offset = ball.radius;\n  //   // }\n\n  //   var offset = ball.radius;\n\n  //   if ( (sides.indexOf(\"left\") != -1) && (sides.indexOf(\"bottom\") != -1) ) {\n  //     ball.collisionReset(Math.PI/4);\n  //     // ball.angle = 3*Math.PI/4;\n  //     ball.angle = - ball.angle + Math.PI;\n  //     ball.x = (brick.x - offset);\n  //     ball.y = (brick.y + brick.height + offset);\n  //     // console.log(\"left and bottom 45\");\n  //   }\n\n  //   if ( (sides.indexOf(\"top\") != -1) && (sides.indexOf(\"right\") != -1) ) {\n  //     ball.collisionReset(Math.PI/4);\n  //     // ball.angle = 7*Math.PI/4;\n  //     ball.angle = - ball.angle + Math.PI;\n  //     ball.x = (brick.x + brick.width + offset);\n  //     ball.y = (brick.y - offset);\n  //     // console.log(\"top and right 45\");\n  //   }\n\n  //   if ( (sides.indexOf(\"left\") != -1) && (sides.indexOf(\"top\") != -1) ) {\n  //     ball.collisionReset(3*Math.PI/4);\n  //     // ball.angle = 5*Math.PI/4;\n  //     ball.angle = - ball.angle + Math.PI;\n  //     ball.x = (brick.x - offset);\n  //     ball.y = (brick.y - offset);\n  //     // console.log(\"left and top 135\");\n  //   }\n\n  //   if ( (sides.indexOf(\"right\") != -1) && (sides.indexOf(\"bottom\") != -1) ) {\n  //     ball.collisionReset(3*Math.PI/4);\n  //     // ball.angle = Math.PI/4;\n  //     ball.angle = - ball.angle + Math.PI;\n  //     ball.x = (brick.x + brick.width + offset);\n  //     ball.y = (brick.y + brick.height + offset);\n  //     // console.log(\"right and bottom 135\");\n  //   }\n\n  // // brick side collisions\n  // } else\n  if (sides.indexOf(\"left\") != -1) {\n    ball.x = (brick.x - ball.radius);\n    ball.collisionReset(Math.PI/2);\n    ball.angle = -ball.angle + Math.PI;\n    // console.log(\"left\");\n  } else if (sides.indexOf(\"right\") != -1) {\n    ball.x = (brick.x + brick.width + ball.radius);\n    ball.collisionReset(Math.PI/2);\n    ball.angle = -ball.angle + Math.PI;\n    // console.log(\"right\");\n  } else if (sides.indexOf(\"bottom\") != -1) {\n    ball.y = (brick.y + brick.height + ball.radius);\n    ball.collisionReset(Math.PI);\n    ball.angle = -ball.angle;\n    // console.log(\"bottom\");\n  } else if (sides.indexOf(\"top\") != -1) {\n    ball.y = (brick.y - ball.radius);\n    ball.collisionReset(Math.PI);\n    ball.angle = -ball.angle;\n    // console.log(\"top\");\n\n    // When ball is slipping (rotating) from the edge\n    if (ball.x < brick.coordinatesHash.top.x1) {\n      ball.x = ball.x - 3;\n    } else if (ball.x > brick.coordinatesHash.top.x2) {\n      ball.x = ball.x + 3;\n    }\n  }\n\n}\n\nfunction testCollisionWithBricks(bricksArray, ball) {\n  let removeAtIndexes = [];\n  for (var i = 0; i < bricksArray.length; i ++) {\n    if (circRectsOverlap(bricksArray[i].x, bricksArray[i].y, bricksArray[i].width, bricksArray[i].height, ball.x, ball.y, ball.radius)) {\n      if (bricksArray[i].constructor.name == \"BreakableBrick\") {\n        removeAtIndexes.push(i);\n        sounds.play(\"breakableBrickHit\");\n      }\n      resetBallAfterBrickCollision(ball, bricksArray[i]);\n    }\n  }\n\n  return bricksArray.filter(function(brick, index) { return !removeAtIndexes.includes(index); });\n}\n\nfunction testCollisionWithScorePoints(scorePointsArray, ball) {\n  let removeAtIndexes = [];\n  for (var i = 0; i < scorePointsArray.length; i ++) {\n    if (circleCollide(scorePointsArray[i].x, scorePointsArray[i].y, scorePointsArray[i].radius, ball.x, ball.y, ball.radius)) {\n      removeAtIndexes.push(i);\n      sounds.play(\"scorePointHit\");\n    }\n  }\n\n  return {\n    \"available\" : scorePointsArray.filter(function(brick, index) { return !removeAtIndexes.includes(index); }),\n    \"collected\" : scorePointsArray.filter(function(brick, index) { return removeAtIndexes.includes(index); })\n  };\n}\n\nexport { circleCollide, circRectsOverlap, testCollisionWithWalls, resetBallAfterBrickCollision, testCollisionWithBricks, testCollisionWithScorePoints }\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/collision-detection.jsx\n **/","function findNewPointBy(x, y, angle, distance) {\n  var result = {};\n\n  result.x = Math.round(Math.cos(angle) * distance + x);\n  result.y = Math.round(Math.sin(angle) * distance + y);\n\n  return result;\n}\n\nfunction randomArrayValue(array) {\n  return array[Math.floor(Math.random()*array.length)];\n}\n\nfunction distanceBettweenToPoints(x1, y1, x2, y2) {\n  return Math.sqrt( Math.pow((x1-x2), 2) + Math.pow((y1-y2), 2) );\n}\n\nfunction angleBetween2Lines(x1, y1, x2, y2, x3, y3, x4, y4) {\n  return Math.atan2(y2 - y1, x2 - x1);\n}\n\n// http://jsfromhell.com/math/dot-line-length\n// dotLineLength(x: Integer, y: Integer, x0: Integer, y0: Integer, x1: Integer, y1: Integer, [overLine: Boolean = False]): Double\n// Distance from a point to a line or segment.\n// x - point's x coord\n// y - point's y coord\n// x0 - x coord of the line's A point\n// y0 - y coord of the line's A point\n// x1 - x coord of the line's B point\n// y1 - y coord of the line's B point\n// overLine - specifies if the distance should respect the limits of the segment (overLine = true)\n//            or if it should consider the segment as an infinite line (overLine = false),\n//            if false returns the distance from the point to the line, otherwise the distance from\n//            the point to the segment\nfunction dotLineLength(x, y, x0, y0, x1, y1, o) {\n  function lineLength(x, y, x0, y0){\n      return Math.sqrt((x -= x0) * x + (y -= y0) * y);\n  }\n  if(o && !(o = function(x, y, x0, y0, x1, y1){\n      if(!(x1 - x0)) return {x: x0, y: y};\n      else if(!(y1 - y0)) return {x: x, y: y0};\n      var left, tg = -1 / ((y1 - y0) / (x1 - x0));\n      return {x: left = (x1 * (x * tg - y + y0) + x0 * (x * - tg + y - y1)) / (tg * (x1 - x0) + y0 - y1), y: tg * left - tg * x + y};\n  }(x, y, x0, y0, x1, y1), o.x >= Math.min(x0, x1) && o.x <= Math.max(x0, x1) && o.y >= Math.min(y0, y1) && o.y <= Math.max(y0, y1))){\n      var l1 = lineLength(x, y, x0, y0), l2 = lineLength(x, y, x1, y1);\n      return l1 > l2 ? l2 : l1;\n  }\n  else {\n      var a = y0 - y1, b = x1 - x0, c = x0 * y1 - y0 * x1;\n      return Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b);\n  }\n}\n\n// We want the object to move at speed pixels/s (there are 60 frames in a second)\n// If we are really running at 60 frames/s, the delay between frames should be 1/60\n// = 16.66 ms, so the number of pixels to move = (speed * del)/1000. If the delay is twice\n// longer, the formula works\nfunction calcDistanceToMove(delta, speed) {\n  //console.log(\"#delta = \" + delta + \" speed = \" + speed);\n  return (speed * delta) / 1000;\n}\n\nfunction moveFromToLocationOffsetsXY(fromX, fromY, toX, toY, speed) {\n  let angle = Math.atan2(toY - fromY, toX - fromX);\n  return [Math.cos(angle) * speed, Math.sin(angle) * speed];\n}\n\nfunction msToSeconds(timeMs) {\n  return timeMs / 1000;\n}\n\n// Taken from here http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb/12342275#12342275\nfunction hex2rgb(hex, opacity) {\n  var h=hex.replace('#', '');\n  h =  h.match(new RegExp('(.{'+h.length/3+'})', 'g'));\n\n  for(var i=0; i<h.length; i++)\n      h[i] = parseInt(h[i].length==1? h[i]+h[i]:h[i], 16);\n\n  if (typeof opacity != 'undefined')  h.push(opacity);\n\n  return 'rgba('+h.join(',')+')';\n}\n\n// https://jsfiddle.net/xg7tek9j/7/\nfunction generateUUID() {\n  var d = new Date().getTime();\n  if(window.performance && typeof window.performance.now === \"function\"){\n      d += performance.now();; //use high-precision timer if available\n  }\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = (d + Math.random()*16)%16 | 0;\n      d = Math.floor(d/16);\n      return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n  });\n  return uuid;\n};\n\n\nexport { distanceBettweenToPoints, angleBetween2Lines, dotLineLength, calcDistanceToMove, msToSeconds, hex2rgb, moveFromToLocationOffsetsXY, generateUUID, findNewPointBy, randomArrayValue }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/math-utils.jsx\n **/","import AudioPlayer from './classes/audio-player';\nimport settings from './game-settings';\n\nexport default {\n  \"sounds\" : {\n    \"ballCollisionHit\": new AudioPlayer(\"audio/sounds/269718__michorvath__ping-pong-ball-hit.wav\", { gainCoefficient: 2}),\n    \"ballToBallCollisionHit\": new AudioPlayer(\"audio/sounds/269718__michorvath__ping-pong-ball-hit.wav\"),\n    \"scorePointHit\": new AudioPlayer(\"audio/sounds/349282__adam-n__coin-on-coins-10.wav\"),\n    \"breakableBrickHit\": new AudioPlayer(\"audio/sounds/42902__freqman__glass-break-4.wav\"),\n    \"lostInBlackHole\": new AudioPlayer(\"audio/sounds/206138__robinhood76__04673-small-short-sucking-whoosh.wav\"),\n    \"levelComplete\": new AudioPlayer(\"audio/sounds/337049__shinephoenixstormcrow__320655-rhodesmas-level-up-01.mp3\"),\n    \"blackHoleDisappear\": new AudioPlayer(\"audio/sounds/162461__kastenfrosch__bordtransmitter.mp3\", { gainCoefficient: 2}),\n    \"gameOver\": new AudioPlayer(\"audio/sounds/339837__rocotilos__8-bit-game-over.wav\"),\n    \"menuButtonCursorHover\": new AudioPlayer(\"audio/sounds/198448__callum-sharp279__menu-scroll-selection-sound.wav\"),\n  },\n  play(soundName, options = {}) {\n    if (settings.read().areSoundsOn) {\n      this.getPlayerFor(soundName).play(options);\n    }\n    return this.getPlayerFor(soundName);\n  },\n  getPlayerFor(soundName) {\n    return this.sounds[soundName];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/sounds.jsx\n **/","import { getAudioContext } from '../global-audio-context';\n\nexport default class AudioPlayer {\n\n  constructor(url, options={}) {\n    this.url = url;\n\n    this.gainCoefficient = options[\"gainCoefficient\"] || 1;\n\n    this.loop = options[\"loop\"] || false;\n\n    this._loadBuffer();\n\n    this.status = \"stopped\";\n\n  }\n\n  isLoaded() {\n    return this.buffer instanceof AudioBuffer;\n  }\n\n  play(options={}) {\n    if (this.isLoaded()) {\n      this._playSound(options);\n    } else {\n      this.waitToPlayWithOptions = options;\n    }\n    this.status = \"playing\";\n  }\n\n  stop() {\n    if (this.isLoaded) {\n      this.sourceNode && this.sourceNode.stop();\n    }\n    this.status = \"stopped\";\n  }\n\n  _playSound(options={}) {\n    // build graph source -> gain -> compressor -> speakers\n    let sourceNode = getAudioContext().createBufferSource();\n    this.sourceNode = sourceNode;\n    sourceNode.loop = this.loop;\n    let compressorNode = getAudioContext().createDynamicsCompressor();\n    let gainNode = getAudioContext().createGain();\n\n    let gain = 1;\n    if (typeof options[\"gain\"] != 'undefined') {\n      gain = options[\"gain\"];\n    }\n\n    gainNode.gain.value = gain * this.gainCoefficient;\n\n    sourceNode.buffer = this.buffer;\n    sourceNode.connect(gainNode);\n    gainNode.connect(compressorNode);\n    compressorNode.connect(getAudioContext().destination);\n\n    sourceNode.start();\n  }\n\n  _loadBuffer() {\n    // Load buffer asynchronously\n    console.log('file : ' + this.url + \" loading and decoding\");\n\n    let request = new XMLHttpRequest();\n    request.open(\"GET\", this.url, true);\n\n    request.responseType = \"arraybuffer\";\n\n    let audioPlayer = this;\n\n    request.onload = function() {\n      // Asynchronously decode the audio file data in request.response\n      getAudioContext().decodeAudioData(\n        request.response,\n        function(buffer) {\n          console.log(\"Loaded and decoded track \" + audioPlayer.url);\n          if (!buffer) {\n            console.error('error decoding file data: ' + audioPlayer.url);\n            return;\n          }\n\n          audioPlayer.buffer = buffer;\n          if (audioPlayer.waitToPlayWithOptions) {\n            audioPlayer._playSound(audioPlayer.waitToPlayWithOptions);\n          }\n        },\n        function(error) {\n          console.error('decodeAudioData error', error);\n        }\n      );\n    };\n\n    request.onprogress = function(e) {\n      if (e.total !== 0) {\n        var percent = (e.loaded * 100) / e.total;\n        console.log(\"loaded \" + percent  + \" % of file \");\n      }\n    };\n\n    request.onerror = function() {\n      console.error('BufferLoader: XHR error');\n    };\n\n    request.send();\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/audio-player.jsx\n **/","let audioContextObject = {};\n\nfunction getAudioContext() {\n  if (!audioContextObject.audioCtx) {\n    audioContextObject.audioCtx = new (window.AudioContext || window.webkitAudioContext);\n  }\n  return audioContextObject.audioCtx;\n}\n\nexport { getAudioContext }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/global-audio-context.jsx\n **/","export default {\n  settings: {\n    areSoundsOn: true\n  },\n  read() {\n    return this.settings;\n  },\n  update(hash = {}) {\n    this.settings = Object.assign(this.settings, hash);\n  },\n  toggleBoolean(key) {\n    this.settings[key] = !this.settings[key];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/game-settings.jsx\n **/","function drawAxis(ctx, w, h, x, y, theta, r) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.strokeStyle = 'Orange';\n  ctx.fillStyle = 'Orange';\n  ctx.moveTo(x, 0);\n  ctx.lineTo(x, h);\n  ctx.stroke();\n  ctx.moveTo(0, y);\n  ctx.lineTo(w, y);\n  ctx.stroke();\n  ctx.fillText(\"0\", w-25, y+25);\n  ctx.fillText(\"90\", x-30, h-25);\n  ctx.fillText(\"180\", 25, y-25);\n  ctx.fillText(\"270\", x+25, 50);\n\n  ctx.beginPath();\n  ctx.strokeStyle = 'Red';\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + r * Math.cos(theta), y + r * Math.sin(theta));\n  ctx.stroke();\n\n  ctx.restore();\n}\n\nfunction updateTelemetry(telemetryContainer, ball) {\n  telemetryContainer.innerHTML = \"\";\n  telemetryContainer.innerHTML += '<br/>Initial Speed: ' + ball.v;\n  telemetryContainer.innerHTML += '<br/>Initial Angle: ' + ball.angle * (180/ Math.PI);\n  telemetryContainer.innerHTML += '<br/>Current Speed: ' + ball.currentVelocity();\n  telemetryContainer.innerHTML += '<br/>Current Angle: ' + ball.currentAngle() * (180/ Math.PI);\n  telemetryContainer.innerHTML += '<br/>Coordiates: X = ' + ball.x + \" Y = \" + ball.y;\n  telemetryContainer.innerHTML += '<br/>Hit angle: ' + ball.hitAngle * (180/ Math.PI) + ' Positive: ' + (ball.hitAngle > 0 ? ball.hitAngle : ball.hitAngle + 2*Math.PI) * (180/ Math.PI);\n  telemetryContainer.innerHTML += '<br/>Hit velocity: ' + ball.hitVelocity;\n  telemetryContainer.innerHTML += '<br/>vX: ' + ball.vX();\n  telemetryContainer.innerHTML += '<br/>vY: ' + ball.vY();\n\n  // var anglesStr = \"\";\n  // for(var i =0; i <= ball.hits.length - 1; i++ ) {\n  //   if (true) {\n  //     anglesStr += (Math.round(ball.hits[i].angleBetween * (180/ Math.PI)) + ' ');\n  //   }\n  // }\n  // telemetryContainer.innerHTML += ('<br/> Hit angles: ' + anglesStr);\n}\n\nfunction drawCollisionAngles(ctx, w, h, ball) {\n  ctx.save();\n  for (var i = 0; i < ball.hits.length - 1; i++) {\n      var hit = ball.hits[i];\n      if (true) {\n        ctx.beginPath();\n        ctx.strokeStyle = 'LightGreen';\n        ctx.lineWidth=2;\n        ctx.fillText((Math.round(hit.angleBetween * (180/ Math.PI))), (hit.x +w/2) /2, (hit.y +h/2)/2 );\n        ctx.moveTo(hit.x, hit.y);\n        ctx.lineTo(w/2, h/2);\n        ctx.stroke();\n      }\n  }\n  ctx.restore();\n}\n\nexport { drawAxis, updateTelemetry, drawCollisionAngles }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/debug-utils.jsx\n **/","export default {\n  internalData() {\n    if (!this.internalDataIsSet) {\n      this.canvas = document.querySelector(\"#myCanvas\");\n      this.context2d = this.canvas.getContext('2d');\n      this.internalDataIsSet = true;\n    }\n    return this;\n  },\n  getCanvas() {\n    return this.internalData().canvas;\n  },\n  getContext2D() {\n    return this.internalData().context2d;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/canvas-data.jsx\n **/","import Graphical from './graphical';\n\nexport default class GraphicBall extends Graphical {\n\n  constructor(x, y, diameter, color) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.radius = diameter / 2;\n    this.color = color;\n    this.hotSpotColor = '#E0E0E0';\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    var innerRadius = 1,\n        outerRadius = this.radius * 1;\n\n    var gradient = ctx.createRadialGradient(this.x-this.radius * 0.3, this.y -this.radius * 0.3, innerRadius, this.x -this.radius * 0.3, this.y-this.radius * 0.3, outerRadius);\n    gradient.addColorStop(0, this.hotSpotColor);\n    gradient.addColorStop(1, this.color);\n    ctx.fillStyle = gradient;\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\n    ctx.shadowOffsetX = 1;\n    ctx.shadowOffsetY = 1;\n    ctx.shadowColor = 'black';\n    ctx.shadowBlur = 3;\n\n    ctx.fill();\n    ctx.restore();\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/graphic-ball.jsx\n **/","import canvasData from '../canvas-data';\n\nexport default class Graphical {\n  context() {\n    return canvasData.getContext2D();\n  }\n  canvas() {\n    return canvasData.getCanvas();\n  }\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/graphical.jsx\n **/","import AutomaticBall from './automatic-ball';\nimport PlayerBall from './player-ball';\nimport { randomArrayValue } from '../math-utils';\n\nexport default class CompetitorBall extends AutomaticBall {\n\n  findTarget(targetsArray) {\n    return randomArrayValue(targetsArray.filter(function(targetObject, index) { return targetObject instanceof PlayerBall; }));\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/competitor-ball.jsx\n **/","import Ball from './ball';\nimport { findNewPointBy, angleBetween2Lines, randomArrayValue } from '../math-utils';\n\nconst AIMING_TIME = 5 * 1000;  // 5 seconds\n\nexport default class AutomaticBall extends Ball {\n  findTarget(targetsArray) {\n    return randomArrayValue(targetsArray);\n  }\n\n  actionLogic(targetsArray, delta) {\n    let aimingSlingEndCoordinates;\n    if (!this.target || (!!this.target && (this.target.isAlive == false))) {\n      this.target = this.findTarget(targetsArray);\n      this.aimingTimeRemaining = AIMING_TIME;\n    }\n    if (this.target) {\n      if (this.isInLaunchPosition()) {\n        this.drawSelection();\n        if (!this.aiming) {\n          this.aiming = true;\n        };\n        if (this.aiming) {\n          this.aimingTimeRemaining -= delta;\n        }\n        this.angle = angleBetween2Lines(this.x, this.y, this.target.x, this.target.y, this.x, this.y, this.x+25, this.y);\n\n        aimingSlingEndCoordinates = findNewPointBy(this.x, this.y, Math.PI + this.angle, 100);\n\n        this.drawSlingTo(aimingSlingEndCoordinates.x, aimingSlingEndCoordinates.y);\n        //console.log(this.aimingTimeRemaining);\n        //console.log(delta);\n        if (this.aimingTimeRemaining <= 0) {\n          this.aiming = false;\n          this.target = null;\n          this.v = 500;\n        }\n      } else {\n        this.aimingTimeRemaining = AIMING_TIME;\n      }\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/automatic-ball.jsx\n **/","import { calcDistanceToMove, generateUUID } from '../math-utils';\nimport { GRAVITY_ACCELERATION } from '../constants';\nimport GraphicBall from './graphic-ball';\nimport sounds from '../sounds';\nimport { calculateSoundGainForBallCollision } from '../framework-functions';\n\nexport default class Ball extends GraphicBall {\n\n  constructor(x, y, diameter, color, angle, v, slingColor) {\n    super(x, y, diameter, color);\n\n    this.angle = angle;\n    this.v = v;\n    this.runTime = 0;\n    this.hitVelocity = 0;\n    this.hitAngle = 0;\n    this.hits = [];\n    this.newParams = {};\n    this.slingColor = slingColor;\n    this.uuid = generateUUID();\n  }\n\n  collisionSound() {\n    sounds.play(\"ballCollisionHit\", { \"gain\" : calculateSoundGainForBallCollision(this.v) });\n  }\n\n  resetPosition(x, y) {\n    this.x = x;\n    this.y = y;\n    this.angle = 0;\n    this.v = 0;\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    var innerRadius = 1,\n        outerRadius = this.radius * 1;\n\n    var gradient = ctx.createRadialGradient(this.x-this.radius * 0.3, this.y -this.radius * 0.3, innerRadius, this.x -this.radius * 0.3, this.y-this.radius * 0.3, outerRadius);\n    gradient.addColorStop(0, '#E0E0E0');\n    gradient.addColorStop(1, this.color);\n    ctx.fillStyle = gradient;\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\n    ctx.shadowOffsetX = 1;\n    ctx.shadowOffsetY = 1;\n    ctx.shadowColor = 'black';\n    ctx.shadowBlur = 3;\n\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawSelection() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n    if (this.isInLaunchPosition()) {\n      ctx.beginPath();\n      ctx.strokeStyle = this.slingColor;\n      ctx.lineWidth=3;\n      ctx.arc(this.x, this.y, this.radius + 3, 0, 2 * Math.PI);\n      ctx.stroke();\n    };\n    ctx.restore();\n  }\n\n  drawSlingTo(toX, toY) {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = this.slingColor;\n    ctx.lineWidth = 3;\n    ctx.moveTo(this.x, this.y);\n    ctx.lineTo(toX, toY);\n    ctx.stroke();\n  }\n\n  vX() {\n    return this.v * Math.cos(this.angle);\n  }\n\n  vY() {\n    return this.v * Math.sin(this.angle) + (GRAVITY_ACCELERATION * this.runTime);\n  }\n\n  currentVelocity() {\n    return Math.sqrt(this.vX()*this.vX() + this.vY()*this.vY());\n  }\n\n  currentAngle() {\n    var value = Math.atan2(this.vY(), this.vX());\n    return isNaN(value) ? 0 : value;\n  }\n\n  move(delta) {\n    // add horizontal increment to the x pos\n    // add vertical increment to the y pos\n\n    this.runTime += delta;\n\n    var incX = this.vX();\n    var incY = this.vY();\n\n    this.x += calcDistanceToMove(delta, incX);\n    this.y += calcDistanceToMove(delta, incY);\n  }\n\n  smallestCollisionAngle(surfaceAngle) {\n    let smallestAngle = Math.abs(Math.atan2(Math.sin(surfaceAngle-this.currentAngle()), Math.cos(surfaceAngle-this.currentAngle())));\n    smallestAngle = (smallestAngle > (Math.PI / 2) ? Math.abs(Math.PI - smallestAngle) : smallestAngle);\n    return smallestAngle;\n  }\n\n  playCollisonSoundForAngle(surfaceAngle) {\n    // if collision angle is more than 5 degrees (empyrical value)\n    if (this.smallestCollisionAngle(surfaceAngle) > (5 * (Math.PI/180)) ) {\n      this.collisionSound();\n    }\n  }\n\n  collisionReset(surfaceAngle) {\n    this.playCollisonSoundForAngle(surfaceAngle);\n\n    var frictionReduction = 0.01; // ball rolls, velocity reduction factor per collision\n    var speedCollisionReduction = 0.1; // ball hits velocity reduction factor per collision\n    // TODO use speed this formula too http://stackoverflow.com/questions/9424459/calculate-velocity-and-direction-of-a-ball-to-ball-collision-based-on-mass-and-b\n    // Use speed reduction coefficient\n    // v -  coefficient * v * angleCoefficient\n    // v * (1 - coefficient * angleCoefficient)\n\n    this.runTime = 0;\n    this.angle = this.currentAngle();\n    this.hitAngle = this.angle;\n    this.hitVelocity = this.v;\n\n    let smallestAngle = this.smallestCollisionAngle(surfaceAngle);\n\n    this.hits.push({\n      angleBetween: smallestAngle,\n      angle: this.hitAngle,\n      x: this.x,\n      y: this.y\n    });\n\n    // You should use ball's hit side and angle to this side.\n    // So, means ball could glide both by x and y coodinates\n    // There are two situations gliding (rolling) and hit.\n    // Each one depends on angle and hit side\n    // x = smallestAngle / (Math.PI / 2)\n\n    // this.v = this.currentVelocity() - ((2 * smallestAngle) / Math.PI) * speedCollisionReduction - frictionReduction;\n    this.v = this.currentVelocity() * (1- speedCollisionReduction * ((2 * smallestAngle) / Math.PI) - frictionReduction);\n\n\n    if (this.v < 1) {\n      this.v = 0;\n    }\n  }\n\n  isInLaunchPosition() {\n    return (this.v == 0);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/ball.jsx\n **/","// Gravity\n// 9.8 m/s2\n// We use ms as time\n// Suppose that 1 px is 1 mm than\n// 1 m = 1000 mm\n// 9.8 * 1000 mm / (1000 ms * 1000 ms)\n// 9.8 * 1000 / ( 1000 * 1000 ) =0.0098 px/ms2\nconst GRAVITY_ACCELERATION = 0.098;\nconst GAME_AREA_BORDER = 100; // px\nconst MAX_POWER_INIT = 100;\nconst POWER_BOOST = 5;\nconst GAME_NAME = \"Ball Game v1.0\";\n\nexport { GRAVITY_ACCELERATION, GAME_AREA_BORDER, MAX_POWER_INIT, POWER_BOOST, GAME_NAME }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/constants.jsx\n **/","import { GAME_AREA_BORDER, MAX_POWER_INIT, POWER_BOOST, GAME_NAME } from './constants';\n\nimport { circleCollide } from './collision-detection';\nimport { distanceBettweenToPoints, angleBetween2Lines } from './math-utils';\n\nfunction calculateSoundGainForBallCollision(speed) {\n  let gainValue = speed / (POWER_BOOST * MAX_POWER_INIT);\n  if (gainValue > 1) {\n    gainValue = 1;\n  }\n  return gainValue\n}\n\nfunction clearCanvas(ctx, canvas) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nfunction updatePlayerCursor(player, inputStates) {\n  // The player is just a circle, drawn at the mouse position\n  // Just to test circle/circle collision.\n\n  if(inputStates.mousePos) {\n    player.x = inputStates.mousePos.x;\n    player.y = inputStates.mousePos.y;\n\n     // draws a circle\n    // ctx.beginPath();\n    // ctx.arc(player.x, player.y, player.boundingCircleRadius, 0, 2*Math.PI);\n    // ctx.stroke();\n  }\n}\n\nfunction updateGates(gatesArray) {\n  for (var i = 0; i < gatesArray.length; i++) {\n    gatesArray[i].draw();\n  }\n}\n\nfunction updateBlackHoles(blackHolesArray, delta) {\n  blackHolesArray = blackHolesArray.filter(function(blackHole) { return !blackHole.isDisappeared(); })\n  for (var i = 0; i < blackHolesArray.length; i++) {\n    blackHolesArray[i].draw(delta);\n  }\n\n  return blackHolesArray;\n}\n\nfunction drawGameAreaBorder(ctx, canvas) {\n  let w = canvas.width, h = canvas.height;\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(0, 0, w, GAME_AREA_BORDER);\n  ctx.rect(0, h-GAME_AREA_BORDER, w, GAME_AREA_BORDER);\n  ctx.rect(0, GAME_AREA_BORDER, GAME_AREA_BORDER, h-2*GAME_AREA_BORDER);\n  ctx.rect(w-GAME_AREA_BORDER, GAME_AREA_BORDER, w-GAME_AREA_BORDER, h-2*GAME_AREA_BORDER);\n  ctx.fillStyle = \"#707070\";\n  ctx.fill();\n  ctx.strokeStyle = \"#383838\";\n  ctx.rect(GAME_AREA_BORDER,GAME_AREA_BORDER,w - 2*GAME_AREA_BORDER,h - 2*GAME_AREA_BORDER);\n  ctx.stroke();\n  ctx.fillStyle = '#00cc44';\n  ctx.font = \"25px Arial\";\n  ctx.fillText(GAME_NAME, 30, h-30);\n  ctx.restore();\n}\n\nfunction checkBallControllable(ball, player, inputStates, powerBoost, ctx) {\n  if (circleCollide(player.x, player.y, player.boundingCircleRadius, ball.x, ball.y, ball.radius)) {\n    ball.drawSelection();\n  }\n\n  if (ball.isInLaunchPosition() && inputStates.mouseDownPos && circleCollide(inputStates.mouseDownPos.x, inputStates.mouseDownPos.y, player.boundingCircleRadius, ball.x, ball.y, ball.radius)) {\n    ball.drawSelection();\n\n    if(inputStates.mousedown) {\n\n      var powerInit = distanceBettweenToPoints(ball.x, ball.y, inputStates.mousePos.x, inputStates.mousePos.y);\n      if (powerInit > MAX_POWER_INIT) {\n        powerInit = MAX_POWER_INIT;\n      }\n      var angle = angleBetween2Lines(ball.x, ball.y, inputStates.mousePos.x, inputStates.mousePos.y, ball.x, ball.y, ball.x + 25, ball.y);\n\n      ball.newParams = {\n        angle: Math.PI + angle,\n        v: powerInit * powerBoost,\n        isSet: true\n      };\n\n      ball.drawSlingTo(ball.x + powerInit * Math.cos(2*Math.PI+angle), ball.y + powerInit * Math.sin(2*Math.PI+angle));\n\n      ctx.save();\n      ctx.fillStyle = \"#33CC33\";\n      ctx.fillText(\"Angle: \" + ((2*Math.PI - (Math.PI + angle)) * (180/ Math.PI)).toFixed(2), 470, 30);\n      ctx.fillText(\"Speed: \" + ball.newParams.v.toFixed(2), 470, 55);\n      ctx.fillText(\"Power: \" + powerInit.toFixed(2), 470, 80);\n      // ctx.beginPath();\n      // ctx.strokeStyle = 'LightGreen';\n      // ctx.lineWidth = 3;\n      // ctx.moveTo(ball.x, ball.y);\n      // ctx.lineTo(ball.x + powerInit * Math.cos(2*Math.PI+angle), ball.y + powerInit * Math.sin(2*Math.PI+angle));\n     // ctx.lineTo(ball.x - 500 * Math.cos(2*Math.PI+angle), ball.y - 500 * Math.sin(2*Math.PI+angle));\n      // ctx.lineTo(inputStates.mousePos.x, inputStates.mousePos.y);\n      //ctx.stroke();\n      // ctx.beginPath();\n      // ctx.strokeStyle = 'BlueViolet';\n      // ctx.fillStyle = 'BlueViolet';\n      // ctx.moveTo(ball.x, 0);\n      // ctx.lineTo(ball.x, h);\n      // ctx.stroke();\n      // ctx.moveTo(0, ball.y);\n      // ctx.lineTo(w, ball.y);\n      // ctx.stroke();\n      // ctx.fillText(\"0\", w-25, ball.y+25);\n      // ctx.fillText(\"90\", ball.x-30, h-25);\n      // ctx.fillText(\"180\", 25, ball.y-25);\n      // ctx.fillText(\"270\", ball.x+25, 50);\n      // ctx.fillStyle = 'Black';\n\n      ctx.restore();\n    }\n  }\n\n  if (ball.newParams.isSet && !inputStates.mousedown) {\n    ball.angle  = ball.newParams.angle;\n    ball.v = ball.newParams.v;\n    ball.newParams.isSet = false;\n  }\n}\n\nexport { clearCanvas, updatePlayerCursor, updateGates, drawGameAreaBorder, checkBallControllable, updateBlackHoles, calculateSoundGainForBallCollision }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/framework-functions.jsx\n **/","import Ball from './ball';\n\nexport default class PlayerBall extends Ball {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/player-ball.jsx\n **/","import AutomaticBall from './automatic-ball';\nimport CompetitorBall from './competitor-ball';\nimport { randomArrayValue } from '../math-utils';\n\nexport default class FriendlyBall extends AutomaticBall {\n\n  findTarget(targetsArray) {\n    return randomArrayValue(targetsArray.filter(function(targetObject, index) { return targetObject instanceof CompetitorBall; }));\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/friendly-ball.jsx\n **/","import Ball from './ball';\n\nexport default class NeutralBall extends Ball {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/neutral-ball.jsx\n **/","import Graphical from './graphical';\n\nexport default class Brick extends Graphical {\n  constructor(x,y, width, height, color) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height\n    this.color = color;\n\n    this.coordinatesHash = {\n      bottom: {\n        x1: this.x,\n        y1: this.y + this.height,\n        x2: this.x + this.width,\n        y2: this.y + this.height\n      },\n      top: {\n        x1: this.x,\n        y1: this.y,\n        x2: this.x + this.width,\n        y2: this.y\n      },\n      left: {\n        x1: this.x,\n        y1: this.y,\n        x2: this.x,\n        y2: this.y + this.height\n      },\n      right: {\n        x1: this.x + this.width,\n        y1: this.y,\n        x2: this.x + this.width,\n        y2: this.y + this.height\n      }\n    }\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    var gradientOffset = (this.width > this.height) ? this.height : this.width;\n\n    var gradient = ctx.createLinearGradient(this.x, this.y, this.x + this.width, this.y + this.height);\n    gradient.addColorStop(0, '#E0E0E0');\n    gradient.addColorStop(1, this.color);\n    ctx.fillStyle = gradient;\n\n    ctx.shadowOffsetX = 1;\n    ctx.shadowOffsetY = 1;\n    ctx.shadowColor = 'black';\n    ctx.shadowBlur = 3;\n\n    ctx.rect(this.x, this.y, this.width, this.height);\n    ctx.fill();\n    ctx.restore();\n  }\n\n  sideLineCoordinates(side) {\n    return this.coordinatesHash[side];\n  }\n\n  drawCollision(sides) {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba(255, 0, 0 , 0.5)';\n    ctx.rect(this.x, this.y, this.width, this.height);\n    ctx.fill();\n    ctx.strokeStyle = 'LightGreen';\n    ctx.lineWidth = 3;\n    for (var i=0; i < sides.length; i++) {\n      ctx.beginPath();\n      var lineCoordinates = this.sideLineCoordinates(sides[i]);\n      ctx.moveTo(lineCoordinates.x1, lineCoordinates.y1);\n      ctx.lineTo(lineCoordinates.x2, lineCoordinates.y2);\n      ctx.stroke();\n    }\n\n    ctx.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/brick.jsx\n **/","import Brick from './brick';\n\nexport default class SquareBrick extends Brick {\n  constructor(x, y, size, color) {\n    super(x, y, size, size, color);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/square-brick.jsx\n **/","import Graphical from './graphical';\n\nexport default class Gate extends Graphical {\n  constructor(x, y, diameter, text, color, type) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.radius = diameter / 2;\n    this.text = text;\n    this.color = color;\n    this.type = type; // start, finish\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    ctx.fillStyle = \"black\";\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n    ctx.strokeStyle = \"#808080\";\n    ctx.lineWidth=3;\n\n    ctx.stroke();\n    ctx.fill();\n\n    ctx.fillStyle=this.color;\n    ctx.font = (Math.ceil(this.radius*1.5).toString() + \"px Arial\");\n    ctx.fillText(this.text,this.x-this.radius/2,this.y+this.radius/2);\n\n    ctx.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/gate.jsx\n **/","import Constants from '../constants';\nimport Graphical from './graphical';\nimport { hex2rgb, calcDistanceToMove, moveFromToLocationOffsetsXY } from '../math-utils'\nimport GraphicBall from './graphic-ball';\nimport sounds from '../sounds';\n\nexport default class BlackHole extends Graphical {\n\n  constructor(x, y, diameter, contentsToCollapseNumber) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.radius = diameter / 2;\n    this.initialRadius = this.radius;\n    this.status = \"active\";\n    this.contents = [];\n    this.contentsToCollapseNumber = contentsToCollapseNumber;\n  }\n\n  collapseRate() {\n    return this.radius / this.initialRadius;\n  }\n\n  calculateNewCollapseRadius() {\n    if (!!this.contentsToCollapseNumber) {\n      if (this.contentsToCollapseNumber >= this.contents.length) {\n        return Math.floor((1 - this.contents.length / this.contentsToCollapseNumber) * this.initialRadius);\n      } else {\n        return 0;\n      }\n    }\n  }\n\n  draw(delta) {\n    if (this.isCollapsing()) {\n      this.collapse(delta);\n    }\n\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    var innerRadius = this.radius * 0.3,\n        outerRadius = this.radius * 1;\n\n    var gradient = ctx.createRadialGradient(this.x, this.y , innerRadius, this.x , this.y, outerRadius);\n    gradient.addColorStop(0, \"black\");\n    gradient.addColorStop(0.5, hex2rgb('#08088A', 0.3) );\n    gradient.addColorStop(1, hex2rgb('#FFFF00', 0.2) );\n    ctx.fillStyle = gradient;\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\n    ctx.fill();\n\n    if (this.contentsToCollapseNumber) {\n      ctx.fillStyle = hex2rgb('#F5F6CE', 0.5);\n      ctx.font = \"12px Arial\";\n      ctx.fillText(this.contents.length + \" / \" + this.contentsToCollapseNumber,this.x+this.radius/2,this.y+this.radius/2);\n    }\n\n    ctx.restore();\n    this.drawContents(delta);\n  }\n\n  setBallInside(ball) {\n    let innerBall = new GraphicBall(ball.x, ball.y, 2 * ball.radius, ball.color);\n    innerBall.initialColor = innerBall.color;\n    innerBall.initialHotSpotColor = innerBall.hotSpotColor;\n\n    this.contents.push(innerBall);\n\n    if (this.shouldCollapse()) {\n      this.startCollapse();\n    }\n  }\n\n  drawContents(delta) {\n    let contentItem;\n    for (var i = 0; i < this.contents.length; i++) {\n      contentItem = this.contents[i];\n      contentItem.radius = contentItem.radius * this.collapseRate();\n      contentItem.color = hex2rgb(contentItem.initialColor, this.collapseRate());\n      contentItem.hotSpotColor = hex2rgb(contentItem.initialHotSpotColor, this.collapseRate());\n\n      let offsetsXY = moveFromToLocationOffsetsXY(contentItem.x, contentItem.y, this.x, this.y, calcDistanceToMove(300, delta));\n      if (Math.abs(contentItem.x - this.x) > 5 ) {\n        contentItem.x += offsetsXY[0];\n      } else {\n        contentItem.x = this.x;\n      }\n\n      if (Math.abs(contentItem.y - this.y) > 5 ) {\n        contentItem.y += offsetsXY[1];\n      }  else {\n        contentItem.y = this.y;\n      }\n\n      if (!(contentItem.x == this.x && contentItem.y == this.y)) {\n        contentItem.draw();\n      }\n\n    }\n  }\n\n  startCollapse() {\n    if (this.shouldCollapse()) {\n      this.status = \"collapse\";\n    }\n  }\n\n  shouldCollapse() {\n    return this.contents.length > 0;\n  }\n\n\n  isCollapsing() {\n    return this.status == \"collapse\";\n  }\n\n  isDisappeared() {\n    return this.status == \"disappeared\";\n  }\n\n  collapse(delta) {\n    if (this.radius > 3 && this.status == \"collapse\") {\n      let newRadius = this.calculateNewCollapseRadius();\n      if (this.radius > newRadius) {\n        this.radius = this.radius - 0.01 * delta;\n      }\n    } else {\n        sounds.play(\"blackHoleDisappear\");\n        this.status = \"disappeared\"\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/black-hole.jsx\n **/","import Graphical from './graphical';\n\nexport default class ScorePoint extends Graphical {\n  constructor(x,y,type) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.radius = 7;\n    this.type = type;\n\n    switch(type) {\n    case \"gold\":\n      this.weight = 100;\n      this.color = \"#FFD700\";\n      break;\n    case \"silver\":\n      this.weight = 50;\n      this.color = \"#c0c0c0\";\n      break;\n    case \"steel\":\n      this.weight = 10;\n      this.color = \"#3CA7BC\";\n      break;\n    }\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    ctx.fillStyle = this.color;\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\n    ctx.shadowOffsetX = 1;\n    ctx.shadowOffsetY = 1;\n    ctx.shadowColor = 'black';\n    ctx.shadowBlur = 3;\n\n    ctx.fill();\n    ctx.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/score-point.jsx\n **/","import Graphical from './graphical';\nimport { circRectsOverlap } from '../collision-detection';\nimport sounds from '../sounds';\n\nexport default class MenuButton extends Graphical {\n  constructor(x, y, w, h, text, isVisible = true) {\n    super();\n    this.x = x;\n    this.y = y;\n    this.text = text;\n    this.w = w;\n    this.h = h;\n    this.state = \"released\"; // 'clicked', 'released'\n    this.isVisible = isVisible;\n    this.isHover = false;\n    this.isHoverPrev = false;\n  }\n\n  fontSize() {\n    return (7 * this.h) / 10;\n  }\n\n  updatePosition(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    ctx.rect(this.x, this.y, this.w, this.h);\n    ctx.fillStyle = \"grey\";\n    ctx.fill();\n\n    ctx.fillStyle=\"#C8C8C8\";\n    ctx.font = this.fontSize() + \"px Arial\";\n    ctx.fillText(this.text, this.x+5, this.y+this.fontSize());\n    ctx.restore();\n  }\n\n  drawSelection() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    ctx.rect(this.x, this.y, this.w, this.h);\n    ctx.fillStyle = 'rgba(0, 255, 0 , 0.1)';\n    ctx.fill();\n\n    ctx.fillStyle=\"#33CC33\";\n    ctx.font = this.fontSize() + \"px Arial\";\n    ctx.fillText(this.text, this.x+5, this.y+this.fontSize() );\n    ctx.restore();\n  }\n\n  playCursorHoverSound() {\n    if (!this.hasPlayedHoverSound) {\n      this.hasPlayedHoverSound = true;\n      sounds.play(\"menuButtonCursorHover\");\n    }\n  }\n\n  processCursor(player, inputStates) {\n    if ((player.x && player.y) && circRectsOverlap(this.x, this.y, this.w, this.h, player.x, player.y, 1)) {\n      this.drawSelection();\n\n      this.playCursorHoverSound();\n\n      if (inputStates.mouseDownPos && (inputStates.mouseDownPos.x == player.x && inputStates.mouseDownPos.y == player.y)) {\n        this.click();\n      }\n\n      if (inputStates.mouseUpPos && (inputStates.mouseUpPos.x == player.x && inputStates.mouseUpPos.y == player.y)) {\n        this.release();\n      }\n    } else {\n      this.hasPlayedHoverSound = false;\n    }\n\n  }\n\n  click() {\n    this.state = \"clicked\";\n  }\n\n  releaseHandler() {\n    // Assign some code here outside of button\n  }\n\n  release() {\n    if (this.state === \"clicked\") {\n      this.state = \"released\";\n      // console.log(\"Menu Button release: \" + this.text);\n      this.releaseHandler();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/menu-button.jsx\n **/","import Graphical from './graphical';\nimport MenuButton from './menu-button';\nimport canvasData from '../canvas-data';\nimport { GAME_AREA_BORDER } from '../constants';\n\nexport default class Menu extends Graphical {\n\n  constructor(title, xOffset, yOffset, buttonSpacing=3) {\n    super();\n    this.title = title;\n    this.buttons = [];\n    let w = this.canvas().width;\n    this.xOffset = w/2 - 195;\n    this.yOffset = GAME_AREA_BORDER + 55;\n    this.buttonSpacing = buttonSpacing;\n  }\n\n  addButton(title, clickHandler, isVisible=true, width = 390, height = 50) {\n    let button = new MenuButton(...this._buttonCoordinatesByIndex(height, this.buttons.length), width, height, title, isVisible);\n    button.releaseHandler = clickHandler;\n    this.buttons.push(button);\n    return button;\n  }\n\n  _buttonCoordinatesByIndex(height, index) {\n    return [this.xOffset,(this.yOffset + ((this.buttonSpacing + height) * index))]\n  }\n\n  visibleButtons() {\n    return this.buttons.filter(function(button) { return button.isVisible; });\n  }\n\n  // TODO player and inputStates should be imported as singleton objects\n  draw(player, inputStates) {\n    let ctx = this.context();\n    let w = this.canvas().width;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle=\"#33CC33\";\n    ctx.font = \"70px Arial\";\n    ctx.fillText(this.title, 35, 70);\n    ctx.rect(w/2 - 200, GAME_AREA_BORDER + 50, 400, 400);\n    ctx.strokeStyle = \"grey\";\n    ctx.lineWidth = 5;\n    ctx.stroke();\n    ctx.restore();\n\n    let visibleBtns = this.visibleButtons();\n\n    for(var i=0; i < visibleBtns.length; i++) {\n      // update button position\n      visibleBtns[i].updatePosition(...this._buttonCoordinatesByIndex(visibleBtns[i].h, i));\n      visibleBtns[i].draw();\n      // Draw button that was selected by user\n      visibleBtns[i].processCursor(player, inputStates);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/menu.jsx\n **/","import levelsData from '../levels-data';\nimport Brick from './brick';\nimport SquareBrick from './square-brick';\nimport BreakableBrick from './breakable-brick';\nimport ScorePoint from './score-point';\nimport Gate from './gate';\nimport BlackHole from './black-hole';\nimport CompetitorBall from './competitor-ball';\nimport FriendlyBall from './friendly-ball';\nimport NeutralBall from './neutral-ball';\n\nexport default class Level {\n  constructor(number) {\n    this.number = number;\n  }\n\n  loadBricks() {\n    let bricks = [], squareBricks = [], breakableBricks = [];\n\n    if (levelsData(this.number)[\"bricks\"]) {\n      bricks = levelsData(this.number)[\"bricks\"].map(function(brick_args) {\n        return new Brick(...brick_args);\n      });\n    }\n\n    if (levelsData(this.number)[\"square_bricks\"]) {\n      squareBricks = levelsData(this.number)[\"square_bricks\"].map(function(brick_args) {\n        return new SquareBrick(...brick_args);\n      });\n    }\n\n    if (levelsData(this.number)[\"breakable_bricks\"]) {\n      breakableBricks = levelsData(this.number)[\"breakable_bricks\"].map(function(brick_args) {\n        return new BreakableBrick(...brick_args);\n      });\n    }\n\n    return bricks.concat(squareBricks).concat(breakableBricks);\n  }\n\n  loadGates() {\n    return levelsData(this.number)[\"gates\"].map(function(gate_args) {\n      return new Gate(...gate_args);\n    });\n  }\n\n  loadScorePoints() {\n    let scorePoints = [];\n    if (levelsData(this.number)[\"score_points\"]) {\n      scorePoints = levelsData(this.number)[\"score_points\"].map(function(score_point_args) {\n        return new ScorePoint(...score_point_args);\n      });\n    }\n\n    return scorePoints;\n  }\n\n  loadBalls() {\n    let balls = [];\n    if (levelsData(this.number)[\"balls\"]) {\n      balls = levelsData(this.number)[\"balls\"].map(function(ball_args) {\n        switch (ball_args[0]) {\n          case \"competitor\":\n            return new CompetitorBall(ball_args[1], ball_args[2], 20, \"#0000FF\", 0, 0, \"#cc33ff\");\n          case \"neutral\":\n            return new NeutralBall(ball_args[1], ball_args[2], 20, \"#848484\", 0, 0, \"#848484\");\n          case \"friendly\":\n            return new FriendlyBall(ball_args[1], ball_args[2], 20, \"#868A08\", 0, 0, \"#31B404\");\n        }\n      });\n    }\n\n    return balls;\n  }\n\n  loadBlackHoles() {\n    let blackHoles = [];\n    if (levelsData(this.number)[\"black_holes\"]) {\n      blackHoles = levelsData(this.number)[\"black_holes\"].map(function(black_hole_args) {\n        return new BlackHole(...black_hole_args);\n      });\n    }\n\n    return blackHoles;\n  }\n\n  hasNextLevel() {\n    return !!levelsData(this.number+1);\n  }\n\n  getNextLevel() {\n    if (this.hasNextLevel()) {\n      return new Level(this.number+1);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/level.jsx\n **/","import { GAME_AREA_BORDER } from './constants';\nimport canvasData from './canvas-data';\n\nfunction startGateParams(x, y) {\n  return [x, y, 23, \"A\", \"#A8A8A8\", \"start\"];\n}\n\nfunction finishGateParams(x, y) {\n  return [x, y, 23, \"Z\", \"#009900\", \"finish\"];\n}\n\nexport default function levelsData(level) {\n  let canvas = canvasData.getCanvas();\n  let w = canvas.width;\n  let h = canvas.height;\n\n  return [\n    {\n      \"bricks\" : [\n        [GAME_AREA_BORDER + 30, (GAME_AREA_BORDER + 30), 300, 20, \"#0099FF\"],\n        [GAME_AREA_BORDER + 350, (GAME_AREA_BORDER + 250), 100, 20, \"#0099FF\"],\n        [GAME_AREA_BORDER + 30, (GAME_AREA_BORDER + 52), 20, 380, \"#0099FF\"],\n        [GAME_AREA_BORDER + 30, (GAME_AREA_BORDER + 480), 20, 20, \"#0099FF\"],\n      ],\n      \"breakable_bricks\" : [\n        [w - GAME_AREA_BORDER - 20, (GAME_AREA_BORDER + 50), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 40, (GAME_AREA_BORDER + 50), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 60, (GAME_AREA_BORDER + 50), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 20, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 40, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 60, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 80, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 100, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 120, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 140, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 160, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n        [w - GAME_AREA_BORDER - 180, (GAME_AREA_BORDER + 70), 20, 20, \"#ffffff\"],\n      ],\n      \"square_bricks\" : [\n         [w/2 - 25, (h/2 - 25), 50, \"Grey\"],\n         [w/2 + 70, (h/2 + 190), 30, \"Orange\"],\n         [w/2 + 101, (h/2 + 160), 30, \"Green\"],\n         [w/2 + 131, (h/2 + 130), 30, \"Purple\"],\n         [w/2 + 161, (h/2 + 100), 30, \"#CC3399\"],\n         [w/2 + 191, (h/2 + 219), 30, \"#00CC33\"],\n         [w/2 - 70, (h/2 - 50), 30, \"Orange\"],\n         [w/2 - 101, (h/2 + 100), 30, \"Green\"],\n         [w/2 - 131, (h/2 - 100), 30, \"Purple\"],\n         [w/2 - 161, (h/2 + 150), 30, \"#CC3399\"],\n         [w - GAME_AREA_BORDER - 100, GAME_AREA_BORDER + 30, 30, \"#00CC33\"]\n      ],\n      \"score_points\" : [\n        [w/2 + 135, h/2 + 55, \"gold\"],\n        [w/2 - 70, h/2 - 70, \"gold\"],\n        [w/2 - 35, h/2 - 10, \"gold\"],\n        [w/2 - 175, h/2 - 175, \"silver\"],\n        [GAME_AREA_BORDER + 15, GAME_AREA_BORDER  + 15, \"steel\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 205, \"steel\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 235, \"steel\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 265, \"steel\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 295, \"steel\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 325, \"steel\"],\n        [GAME_AREA_BORDER + 45, GAME_AREA_BORDER  + 15, \"gold\"],\n        [GAME_AREA_BORDER + 75, GAME_AREA_BORDER  + 15, \"gold\"],\n        [w - GAME_AREA_BORDER - 55, GAME_AREA_BORDER  + 15, \"gold\"],\n        [w - GAME_AREA_BORDER - 85, GAME_AREA_BORDER  + 15, \"gold\"],\n        [GAME_AREA_BORDER + 15, GAME_AREA_BORDER  + 45, \"gold\"],\n        [GAME_AREA_BORDER + 15, GAME_AREA_BORDER  + 75, \"silver\"],\n        [GAME_AREA_BORDER + 15, GAME_AREA_BORDER  + 105, \"gold\"],\n        [w - GAME_AREA_BORDER - 15, h - GAME_AREA_BORDER  - 15, \"gold\"],\n        [w - GAME_AREA_BORDER - 75, h - GAME_AREA_BORDER  - 105, \"gold\"],\n      ],\n      \"gates\" : [\n        startGateParams(w/2, (h-GAME_AREA_BORDER-10)),\n        //startGateParams(w/2, (GAME_AREA_BORDER+15)),\n        finishGateParams((w-GAME_AREA_BORDER-15), (GAME_AREA_BORDER+15))\n      ],\n      \"black_holes\" : [\n        [GAME_AREA_BORDER + 255, GAME_AREA_BORDER + 120, 100, 3]\n      ],\n      \"balls\" : [\n        // [\"neutral\", GAME_AREA_BORDER + 45, GAME_AREA_BORDER  + 55],\n        // [\"neutral\", GAME_AREA_BORDER + 45, GAME_AREA_BORDER  + 65],\n        // [\"neutral\", GAME_AREA_BORDER + 45, GAME_AREA_BORDER  + 75],\n        [\"neutral\", GAME_AREA_BORDER + 175, GAME_AREA_BORDER  + 345],\n        [\"friendly\", GAME_AREA_BORDER + 325, GAME_AREA_BORDER  + 430],\n        [\"competitor\", GAME_AREA_BORDER + 45, GAME_AREA_BORDER  + 470],\n      ]\n    },\n    {\n      \"bricks\" : [\n        [w - GAME_AREA_BORDER - 120, (GAME_AREA_BORDER + 50), 20, 450, \"#600080\"],\n        [w - GAME_AREA_BORDER - 200, (GAME_AREA_BORDER), 20, 300, \"#cc5200\"],\n        [GAME_AREA_BORDER, (GAME_AREA_BORDER + 30), 250, 20, \"#6600cc\"],\n\n        [GAME_AREA_BORDER + 120, (GAME_AREA_BORDER + 52), 20, 54, \"#0080ff\"],\n        [GAME_AREA_BORDER + 178, (GAME_AREA_BORDER + 86), 50, 20, \"#0080ff\"],\n        [GAME_AREA_BORDER + 230, (GAME_AREA_BORDER + 52), 20, 54, \"#0080ff\"],\n\n        [GAME_AREA_BORDER + 73, (GAME_AREA_BORDER + 140), 225, 20, \"#6600cc\"],\n        [GAME_AREA_BORDER, (GAME_AREA_BORDER + 250), 250, 20, \"#e6e600\"],\n        [GAME_AREA_BORDER + 50, (GAME_AREA_BORDER+100), 20, 100, \"#39e600\"],\n        [w - GAME_AREA_BORDER - 50, (GAME_AREA_BORDER + 30), 50, 30, \"#0066cc\"],\n        [w - GAME_AREA_BORDER - 100, (GAME_AREA_BORDER + 120), 50, 30, \"#ffcc00\"],\n        [w - GAME_AREA_BORDER - 50, (GAME_AREA_BORDER + 210), 50, 30, \"#0066cc\"],\n        [w - GAME_AREA_BORDER - 100, (GAME_AREA_BORDER + 300), 50, 30, \"#ffcc00\"],\n        [w - GAME_AREA_BORDER - 50, (GAME_AREA_BORDER + 390), 50, 30, \"#0066cc\"]\n      ],\n      \"square_bricks\" : [\n        [GAME_AREA_BORDER + 20, (GAME_AREA_BORDER + 350), 30, \"#ff6699\"],\n        [GAME_AREA_BORDER + 100, (GAME_AREA_BORDER + 350), 30, \"#e6004c\"],\n        [GAME_AREA_BORDER + 180, (GAME_AREA_BORDER + 350), 30, \"#ff6699\"],\n        [GAME_AREA_BORDER + 260, (GAME_AREA_BORDER + 350), 30, \"#e6004c\"],\n        [GAME_AREA_BORDER + 62, (GAME_AREA_BORDER + 420), 30, \"#ff6699\"],\n        [GAME_AREA_BORDER + 142, (GAME_AREA_BORDER + 420), 30, \"#e6004c\"],\n        [GAME_AREA_BORDER + 222, (GAME_AREA_BORDER + 420), 30, \"#ff6699\"],\n        [GAME_AREA_BORDER + 302, (GAME_AREA_BORDER + 420), 30, \"#e6004c\"],\n        [w - GAME_AREA_BORDER - 153, (GAME_AREA_BORDER + 50), 30, \"#00e673\"],\n        [w - GAME_AREA_BORDER - 153, (GAME_AREA_BORDER + 150), 30, \"#00e673\"],\n        [w - GAME_AREA_BORDER - 153, (GAME_AREA_BORDER + 250), 30, \"#00e673\"],\n        [w - GAME_AREA_BORDER - 153, (GAME_AREA_BORDER + 350), 30, \"#00e673\"]\n      ],\n      \"score_points\" : [\n        [w/2 + 230, h/2 + 130, \"gold\"],\n        [w/2 + 230, h/2 + 0, \"gold\"],\n        [w/2 + 170, h/2 + 130, \"silver\"],\n        [w/2 + 170, h/2 + 90, \"silver\"],\n        [w/2 + 170, h/2 - 150, \"silver\"],\n        [w/2 - 70, h/2 - 70, \"gold\"],\n        [w/2 - 35, h/2 - 10, \"gold\"],\n        [w/2 - 175, h/2 - 175, \"silver\"],\n      ],\n      \"gates\" : [\n        startGateParams((w-GAME_AREA_BORDER-15), (h-GAME_AREA_BORDER-10)),\n        finishGateParams((GAME_AREA_BORDER+15), (GAME_AREA_BORDER+15))\n      ]\n    },\n    {\n      \"bricks\" : [\n        [GAME_AREA_BORDER + 150, (GAME_AREA_BORDER + 240), 200, 20, \"#0080ff\"],\n        [GAME_AREA_BORDER+130, (GAME_AREA_BORDER + 100), 20, 260, \"#33cc33\"],\n        [GAME_AREA_BORDER+130, (GAME_AREA_BORDER), 20, 65, \"#33cc33\"],\n        [GAME_AREA_BORDER+130, (h - GAME_AREA_BORDER - 65), 20, 65, \"#33cc33\"],\n        [GAME_AREA_BORDER+352, (GAME_AREA_BORDER + 100), 20, 377, \"#33cc33\"],\n        [GAME_AREA_BORDER+352, (GAME_AREA_BORDER), 20, 65, \"#33cc33\"],\n        [GAME_AREA_BORDER, (h - GAME_AREA_BORDER - 65), 100, 20, \"#00cc66\"]\n      ],\n      \"square_bricks\" : [\n        [w/2 - 15, (GAME_AREA_BORDER + 295), 30, \"#33cc33\"],\n        [w/2 + 58, (GAME_AREA_BORDER + 480), 20, \"#e6004c\"],\n        [w/2, (GAME_AREA_BORDER + 480), 20, \"#e6004c\"],\n        [w/2 - 60, (GAME_AREA_BORDER + 480), 20, \"#e6004c\"],\n\n        [w/2 + 58, (GAME_AREA_BORDER + 435), 20, \"#e6004c\"],\n        [w/2, (GAME_AREA_BORDER + 435), 20, \"#e6004c\"],\n        [w/2 - 60, (GAME_AREA_BORDER + 435), 20, \"#e6004c\"],\n\n        [w/2 + 58, (GAME_AREA_BORDER + 388), 20, \"#e6004c\"],\n        [w/2, (GAME_AREA_BORDER + 388), 20, \"#e6004c\"],\n        [w/2 - 60, (GAME_AREA_BORDER + 388), 20, \"#e6004c\"],\n\n        [GAME_AREA_BORDER + 98, (GAME_AREA_BORDER + 290), 30, \"#ffff00\"],\n        [GAME_AREA_BORDER+50, (GAME_AREA_BORDER + 190), 30, \"#ffff00\"],\n        [GAME_AREA_BORDER, (GAME_AREA_BORDER + 90), 30, \"#ffff00\"]\n      ],\n      \"breakable_bricks\" : [\n        [w/2 - 65, (GAME_AREA_BORDER + 265), 20, 20, \"#ffffff\"],\n        [w/2 - 65, (GAME_AREA_BORDER + 295), 20, 20, \"#ffffff\"],\n        [w/2 - 65, (GAME_AREA_BORDER + 325), 20, 20, \"#ffffff\"],\n        [w/2 - 65, (GAME_AREA_BORDER + 355), 20, 20, \"#ffffff\"],\n        [w/2 - 35, (GAME_AREA_BORDER + 355), 20, 20, \"#ffffff\"],\n        [w/2 - 5, (GAME_AREA_BORDER + 355), 20, 20, \"#ffffff\"],\n        [w/2 + 25, (GAME_AREA_BORDER + 355), 20, 20, \"#ffffff\"],\n        [w/2 + 55, (GAME_AREA_BORDER + 355), 20, 20, \"#ffffff\"],\n        [w/2 + 55, (GAME_AREA_BORDER + 265), 20, 20, \"#ffffff\"],\n        [w/2 + 55, (GAME_AREA_BORDER + 295), 20, 20, \"#ffffff\"],\n        [w/2 + 55, (GAME_AREA_BORDER + 325), 20, 20, \"#ffffff\"],\n      ],\n      \"gates\" : [\n        startGateParams((w/2), (h/2 + 30)),\n        finishGateParams((w/2), (h/2 - 30))\n      ]\n    }\n\n  ][level-1];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/levels-data.jsx\n **/","import Brick from './brick';\nimport { hex2rgb } from '../math-utils'\n\nexport default class BreakableBrick extends Brick {\n  draw() {\n    let ctx = this.context();\n    ctx.save();\n    ctx.beginPath();\n\n    ctx.fillStyle = hex2rgb(this.color, 0.3);\n\n    ctx.shadowOffsetX = 1;\n    ctx.shadowOffsetY = 1;\n    ctx.shadowColor = 'black';\n    ctx.shadowBlur = 3;\n\n    ctx.rect(this.x, this.y, this.width, this.height);\n    ctx.fill();\n    ctx.strokeStyle = '#a9c3f0';\n    ctx.strokeRect(this.x, this.y, this.width, this.height);\n    ctx.restore();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/classes/breakable-brick.jsx\n **/"],"sourceRoot":""}